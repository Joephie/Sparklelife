<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Sparkle Life AI å¡”ç¾…æŠ½ç‰Œ</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap');
  body {
    font-family: 'Noto Sans TC', sans-serif;
    margin: 0; padding: 0;
    background: linear-gradient(135deg, #f0e5f6, #d4c2f9);
    color: #3a2a5c;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }
  header {
    background: #7e57c2;
    padding: 1.2rem;
    text-align: center;
    color: white;
    font-weight: 700;
    font-size: 1.6rem;
    letter-spacing: 0.06em;
  }
  main {
    flex-grow: 1;
    padding: 1rem 1.2rem 3rem 1.2rem;
    max-width: 540px;
    margin: 0 auto;
  }
  label {
    display: block;
    margin-top: 1.2rem;
    font-weight: 600;
    font-size: 1.1rem;
  }
  textarea, select {
    width: 100%;
    margin-top: 0.4rem;
    font-size: 1rem;
    padding: 0.6rem;
    border-radius: 8px;
    border: 1.5px solid #b8aee5;
    resize: vertical;
    background: #f9f7ff;
    color: #3a2a5c;
  }
  button {
    margin-top: 1.5rem;
    background: #7e57c2;
    color: white;
    font-weight: 700;
    font-size: 1.15rem;
    border: none;
    border-radius: 10px;
    padding: 0.8rem 1rem;
    cursor: pointer;
    width: 100%;
    transition: background-color 0.3s ease;
  }
  button:hover {
    background: #5e3ca5;
  }
  .result {
    margin-top: 2rem;
    background: white;
    border-radius: 15px;
    box-shadow: 0 0 12px rgba(126, 87, 194, 0.35);
    padding: 1.5rem 1.2rem;
    color: #3a2a5c;
    line-height: 1.5;
  }
  .cards {
    margin-top: 1rem;
    display: flex;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
  }
  .card {
    background: #d4c2f9;
    border-radius: 12px;
    box-shadow: 0 0 10px rgba(126, 87, 194, 0.5);
    padding: 1rem;
    width: 100px;
    text-align: center;
    user-select: none;
  }
  .card-title {
    font-weight: 700;
    margin-bottom: 0.6rem;
  }
  .conclusion {
    margin-top: 1rem;
    font-style: italic;
    font-weight: 600;
    background: #ede9f7;
    padding: 1rem;
    border-radius: 10px;
    box-shadow: inset 0 0 8px rgba(126, 87, 194, 0.2);
  }
  footer {
    text-align: center;
    padding: 1rem 0.5rem;
    font-size: 0.9rem;
    color: #6d5a91;
  }
  @media (max-width: 600px) {
    .card {
      width: 80px;
      padding: 0.8rem;
      font-size: 0.9rem;
    }
  }
</style>
</head>
<body>
<header>âœ¨ Sparkle Life AI å¡”ç¾…æŠ½ç‰Œ âœ¨</header>
<main>
  <label for="question">è«‹è¼¸å…¥ä½ çš„å•é¡Œ</label>
  <textarea id="question" rows="3" placeholder="ä¾‹å¦‚ï¼šæˆ‘ä»Šå¹´äº‹æ¥­æœƒæœ‰çªç ´å—ï¼Ÿ"></textarea>

  <label for="style">é¸æ“‡è§£è®€é¢¨æ ¼</label>
  <select id="style">
    <option value="gentle">æº«æŸ”é™ªä¼´é¢¨</option>
    <option value="neutral" selected>ä¸­æ€§è§£èªªé¢¨</option>
    <option value="mystic">ç¥ç§˜æ„Ÿå¼·çƒˆé¢¨</option>
  </select>

  <button id="drawBtn">æŠ½ç‰Œä¸¦è§£è®€</button>

  <div id="result" class="result" style="display:none;">
    <div class="cards" id="cards"></div>
    <div class="conclusion" id="conclusion"></div>
  </div>
</main>
<footer>Â© 2025 Sparkle Life Tarot - åªä¾›éˆæ€§åƒè€ƒï¼Œä¸ä½œå°ˆæ¥­å¿ƒç†è¨ºæ–·ç”¨é€”</footer>

<script>
// ç‰Œçµ„ç°¡å–®ç‰ˆæœ¬ï¼š22å¼µå¤§é˜¿å¡é‚£
const TAROT_CARDS = [
  {name: "æ„šè€…", desc: "é–‹å§‹ã€è‡ªç”±ã€å†’éšªã€ç´”çœŸ", yesno: "æ˜¯"},
  {name: "é­”è¡“å¸«", desc: "å‰µé€ åŠ›ã€æ„å¿—ã€æŒæ§ã€è¡Œå‹•", yesno: "æ˜¯"},
  {name: "å¥³ç¥­å¸", desc: "ç›´è¦ºã€æ½›æ„è­˜ã€ç¥ç§˜ã€æ™ºæ…§", yesno: "æ˜¯"},
  {name: "å¥³çš‡", desc: "è±ç››ã€æ¯æ€§ã€è‡ªç„¶ã€æ»‹é¤Š", yesno: "æ˜¯"},
  {name: "çš‡å¸", desc: "æ¬Šå¨ã€ç©©å®šã€é ˜å°ã€ä¿è­·", yesno: "æ˜¯"},
  {name: "æ•™çš‡", desc: "å‚³çµ±ã€ä¿¡ä»°ã€æ•™è‚²ã€ç²¾ç¥æŒ‡å¼•", yesno: "æ˜¯"},
  {name: "æˆ€äºº", desc: "æ„›æƒ…ã€é¸æ“‡ã€å’Œè«§ã€é—œä¿‚", yesno: "æ˜¯"},
  {name: "æˆ°è»Š", desc: "æ„å¿—åŠ›ã€å‹åˆ©ã€æ§åˆ¶ã€å‰é€²", yesno: "æ˜¯"},
  {name: "åŠ›é‡", desc: "å‹‡æ°£ã€è€å¿ƒã€å…§å¿ƒåŠ›é‡ã€å …æŒ", yesno: "æ˜¯"},
  {name: "éš±è€…", desc: "å­¤ç¨ã€å…§çœã€å°‹æ‰¾ç­”æ¡ˆã€æ™ºæ…§", yesno: "æ˜¯"},
  {name: "å‘½é‹ä¹‹è¼ª", desc: "è®ŠåŒ–ã€å¾ªç’°ã€æ©Ÿæœƒã€å‘½é‹", yesno: "è¦–æƒ…æ³"},
  {name: "æ­£ç¾©", desc: "å…¬å¹³ã€å¹³è¡¡ã€å› æœã€çœŸç›¸", yesno: "æ˜¯"},
  {name: "å€’åŠäºº", desc: "çŠ§ç‰²ã€ç­‰å¾…ã€è¦–è§’è½‰æ›ã€å¿è€", yesno: "è¦–æƒ…æ³"},
  {name: "æ­»ç¥", desc: "çµæŸã€æ–°é–‹å§‹ã€è½‰è®Šã€æ”¾ä¸‹", yesno: "è¦–æƒ…æ³"},
  {name: "ç¯€åˆ¶", desc: "å¹³è¡¡ã€ç¯€åˆ¶ã€å”èª¿ã€æ²»ç™‚", yesno: "æ˜¯"},
  {name: "æƒ¡é­”", desc: "æŸç¸›ã€èª˜æƒ‘ã€ç‰©è³ªã€é™åˆ¶", yesno: "å¦"},
  {name: "å¡”", desc: "çªè®Šã€ç ´å£ã€å•Ÿç¤ºã€æ··äº‚", yesno: "å¦"},
  {name: "æ˜Ÿæ˜Ÿ", desc: "å¸Œæœ›ã€ç™‚ç™’ã€éˆæ„Ÿã€æŒ‡å¼•", yesno: "æ˜¯"},
  {name: "æœˆäº®", desc: "å¹»è±¡ã€æ½›æ„è­˜ã€è¿·æƒ‘ã€ç›´è¦º", yesno: "è¦–æƒ…æ³"},
  {name: "å¤ªé™½", desc: "å¿«æ¨‚ã€æˆåŠŸã€æ´»åŠ›ã€å…‰æ˜", yesno: "æ˜¯"},
  {name: "å¯©åˆ¤", desc: "è¦ºé†’ã€åæ€ã€æ•‘è´–ã€è½‰è®Š", yesno: "æ˜¯"},
  {name: "ä¸–ç•Œ", desc: "å®Œæˆã€æˆå°±ã€æ—…ç¨‹çµæŸã€æ–°é–‹å§‹", yesno: "æ˜¯"}
];

// æ ¹æ“šå•é¡Œåˆ¤æ–·ç‰Œé™£ï¼Œç°¡å–®é—œéµå­—åŒ¹é…
function chooseSpread(question) {
  const q = question.toLowerCase();
  if (q.includes("æœªä¾†") || q.includes("ç™¼å±•") || q.includes("å·¥ä½œ") || q.includes("äº‹æ¥­")) {
    return 3; // ä¸‰å¼µç‰Œï¼šéå»-ç¾åœ¨-æœªä¾†
  } else if (q.includes("æ˜¯å¦") || q.includes("æœƒä¸æœƒ") || q.includes("èƒ½å¦") || q.includes("è¡Œä¸è¡Œ")) {
    return 1; // ä¸€å¼µç‰Œï¼Œäº‹èˆ‡å¦
  } else if (q.includes("å›°æƒ‘") || q.includes("å¿ƒæƒ…") || q.includes("æ„Ÿæƒ…") || q.includes("é—œä¿‚")) {
    return 3; // ä¸‰å¼µç‰Œ
  } else if (q.includes("å¤§å•é¡Œ") || q.includes("å¤§äº‹") || q.includes("è½‰æŠ˜")) {
    return 10; // åå­—ç‰Œé™£ï¼ˆä½†ç›®å‰åªç¤ºç¯„æœ€å¤š3å¼µï¼‰
  }
  return 1; // é è¨­ä¸€å¼µç‰Œ
}

// æ´—ç‰Œéš¨æ©ŸæŠ½ç‰Œ(ä¸é‡è¦†)
function drawCards(num) {
  const copy = [...TAROT_CARDS];
  const drawn = [];
  for (let i=0; i<num; i++) {
    const idx = Math.floor(Math.random() * copy.length);
    drawn.push(copy.splice(idx, 1)[0]);
  }
  return drawn;
}

// ç”¢ç”Ÿçµè«–
function generateConclusion(question, cards, style) {
  let conclusion = "";
  if(cards.length === 1) {
    // äº‹èˆ‡å¦ç‰Œï¼Œç°¡å–®åˆ¤æ–·
    const card = cards[0];
    if (card.yesno === "æ˜¯") conclusion = "æ ¹æ“šç‰Œé¢ï¼Œç­”æ¡ˆå‚¾å‘ã€Œæ˜¯ã€ğŸ‘";
    else if (card.yesno === "å¦") conclusion = "æ ¹æ“šç‰Œé¢ï¼Œç­”æ¡ˆå‚¾å‘ã€Œå¦ã€ğŸ‘";
    else conclusion = "ç­”æ¡ˆè¼ƒç‚ºä¸ç¢ºå®šï¼Œå»ºè­°å¤šåŠ è§€å¯Ÿå’Œç­‰å¾…ã€‚";
  } else if(cards.length ===3) {
    conclusion = "ä¸‰å¼µç‰Œåˆ†åˆ¥ä»£è¡¨éå»ã€ç¾åœ¨ã€æœªä¾†ã€‚å»ºè­°ä½ å¾ç‰Œæ„ä¸­æ‰¾å°‹éˆæ„Ÿå’Œæ–¹å‘ï¼Œä¿æŒå¿ƒå¢ƒå¹³å’Œã€‚";
  } else {
    conclusion = "æŠ½åˆ°å¤šå¼µç‰Œï¼Œè«‹ç¶œåˆç‰Œç¾©è‡ªè¡Œåƒè€ƒã€‚";
  }
  if(style === "gentle") {
    conclusion = "ğŸ’œ æº«æŸ”æé†’ï¼š" + conclusion + " ç¥ä½ å¹³å®‰å–œæ¨‚ã€‚";
  } else if(style === "mystic") {
    conclusion = "ğŸ”® ç¥ç§˜æŒ‡å¼•ï¼š" + conclusion + " å®‡å®™æ­£èˆ‡ä½ åŒåœ¨ã€‚";
  } else {
    conclusion = "ğŸ’¡ è§£è®€ï¼š" + conclusion;
  }
  return conclusion;
}

document.getElementById("drawBtn").addEventListener("click", () => {
  const question = document.getElementById("question").value.trim();
  if(!question) {
    alert("è«‹è¼¸å…¥ä½ çš„å•é¡Œ");
    return;
  }
  const style = document.getElementById("style").value;
  const numCards = chooseSpread(question);
  const cards = drawCards(numCards);

  // é¡¯ç¤ºç‰Œ
  const cardsDiv = document.getElementById("cards");
  cardsDiv.innerHTML = "";
  cards.forEach((c, i) => {
    const cardDiv = document.createElement("div");
    cardDiv.className = "card";
    cardDiv.innerHTML = `<div class="card-title">${c.name}</div><div>${c.desc}</div>`;
    cardsDiv.appendChild(cardDiv);
  });

  // é¡¯ç¤ºçµè«–
  const conclusionDiv = document.getElementById("conclusion");
  conclusionDiv.textContent = generateConclusion(question, cards, style);

  // é¡¯ç¤ºçµæœå€
  document.getElementById("result").style.display = "block";
});
</script>
</body>
</html>
